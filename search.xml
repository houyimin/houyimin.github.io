<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Python安装]]></title>
    <url>%2F2017%2F10%2F12%2FPython%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[安装Python 3.X在Windows上安装Python根据你的Windows版本（64位还是32位）从Python的官方网站www.python.org下载，然后，运行下载的EXE安装包 在Linux上安装Python打开WEB浏览器访问www.python.org/download选择适用于Unix/Linux的源码压缩包。这里，我选择的版本是 3.5.2 123456789101112下载wget https://www.python.org/ftp/python/3.5.2/Python-3.5.2.tgz解压压缩包tar -zxvf Python-3.5.2.tgz进入目录cd Python-3.5.2/添加配置./configure编译程序make执行安装make install 执行以上操作后，Python会安装在 /usr/local/bin 目录中，Python库安装在/usr/local/lib/pythonXX，XX为你使用的Python的版本号。 验证 安装成功以后，就可以查看 Python 的版本了：1234# python -VPython 2.7.5# python3 -VPython 3.5.2 设置 3.x 为默认版本查看 Python 的路径，在 /usr/bin 下面。可以看到 python 链接的是 python 2.7，所以，执行 python 就相当于执行 python 2.7。12345678910111213141516# ls -al /usr/bin | grep python-rwxr-xr-x. 1 root root 11216 12月 1 2015 abrt-action-analyze-pythonlrwxrwxrwx. 1 root root 7 8月 30 12:11 python -&gt; python2lrwxrwxrwx. 1 root root 9 8月 30 12:11 python2 -&gt; python2.7-rwxr-xr-x. 1 root root 7136 11月 20 2015 python2.7将原来 python 的软链接重命名：# mv /usr/bin/python /usr/bin/python.bak将 python 链接至 python3：# ln -s /usr/local/bin/python3 /usr/bin/python这时，再查看 Python 的版本：# python -VPython 3.5.2输出的是 3.x，说明已经使用的是 python3了。]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux在history添加时间和用户]]></title>
    <url>%2F2017%2F09%2F30%2FLinux%E5%9C%A8history%E6%B7%BB%E5%8A%A0%E6%97%B6%E9%97%B4%E5%92%8C%E7%94%A8%E6%88%B7%2F</url>
    <content type="text"><![CDATA[设置显示时间和用户1echo 'export HISTTIMEFORMAT="[%Y.%m.%d %H:%M:%S] [`whoami`] "' &gt;&gt; /etc/profile 执行source使配置生效12source /etc/profile]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python独立开发环境virtualenv配置]]></title>
    <url>%2F2017%2F07%2F03%2FPython%E7%8B%AC%E7%AB%8B%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[什么是virtualenvVirtualenv是一个用来创建独立的Python环境的包。 你可以为每个项目建立不同的/独立的Python环境，你将为每个项目安装所有需要的软件包到它们各自独立的环境中。 安装与使用virtualenv1pip install virtualenv virtualenv安装完毕后，可以通过运行下面的命令在项目目录myproject创建独立的python环境123mkdir myprojectcd myprojectvirtualenv --no-site-packages myproject 参数–no-site-packages代表已经安装到系统Python环境中的所有第三方包都不会复制过来，这样，我们就得到了一个不带任何第三方包的“干净”的Python运行环境。 以上代码安装的是系统默认的python版本，如果需要安装指定版本的python，比如安装python2.7可以用以下代码。123mkdir myprojectcd myprojectvirtualenv --no-site-packages --python=C:\Python27\python.exe myproject 通过下面的命令激活这个virtualenv：activate为激活文件1source bin/activate windows执行12cd Scriptsactivate 1(myproject) D:\houyimin\learnpython\myproject\Scripts&gt; 注意到命令提示符变了，有个(myproject)前缀，表示当前环境是一个名为myproject的Python环境。 运行下面的命令退出virtualenv环境。1deactivate virtualenv拷贝了Python可执行文件的副本，并创建一些有用的脚本和安装了项目需要的软件包，你可以在项目的整个生命周期中安装/升级/删除这些包。 它也修改了一些搜索路径，例如PYTHONPATH，以确保：当安装包时，它们被安装在当前活动的virtualenv里，而不是系统范围内的Python路径。当import代码时，virtualenv将优先采取本环境中安装的包，而不是系统Python目录中安装的包。]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PHP导出大数据到Excel]]></title>
    <url>%2F2017%2F06%2F29%2FPHP%E5%AF%BC%E5%87%BA%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%B0Excel%2F</url>
    <content type="text"><![CDATA[数据量很大时（5万条以上），用 PHPExcel 导出 xls 将十分缓慢且占用很大内存，最终造成运行超时或内存不足。可以通过设置 PHP 的运行时间和内存限制来阻止错误发生，但仍然不能确保导出完成。 12set_time_limit(0);ini_set("memory_limit","512M"); 一、 可生成多个链接分页进行导出要彻底解决这个问题可以将数据分批导出成 CSV 格式的文件，这种格式简单导出快，并且也能用到 Excel 中。 我们用php提供的fputcsv来导出一百万的数据，原理就是打开一个标准输出流，然后把数据按一万条来分割，每一万条就刷新缓冲区。 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;?phpset_time_limit(0);ini_set('memory_limit', '128M'); $fileName = date('YmdHis', time());header('Content-Type: application/vnd.ms-execl');header('Content-Disposition: attachment;filename="' . $fileName . '.csv"'); $begin = microtime(true); //打开php标准输出流//以写入追加的方式打开$fp = fopen('php://output', 'a'); $db = new mysqli('127.0.0.1', 'root', '', 'test'); if($db-&gt;connect_error) &#123; die('connect error');&#125; //我们试着用fputcsv从数据库中导出1百万的数据//我们每次取1万条数据，分100步来执行//如果线上环境无法支持一次性读取1万条数据，可把$nums调小，$step相应增大。$step = 100;$nums = 10000; //设置标题$title = array('ID', '用户名', '用户年龄', '用户描述', '用户手机', '用户QQ', '用户邮箱', '用户地址');foreach($title as $key =&gt; $item) &#123; $title[$key] = iconv('UTF-8', 'GBK', $item);&#125;//将标题写到标准输出中fputcsv($fp, $title); for($s = 1; $s &lt;= $step; ++$s) &#123; $start = ($s - 1) * $nums; $result = $db-&gt;query("SELECT * FROM tb_users ORDER BY id LIMIT &#123;$start&#125;,&#123;$nums&#125;"); if($result) &#123; while($row = $result-&gt;fetch_assoc()) &#123; foreach($row as $key =&gt; $item) &#123; //这里必须转码，不然会乱码 $row[$key] = iconv('UTF-8', 'GBK', $item); &#125; fputcsv($fp, $row); &#125; $result-&gt;free(); //每1万条数据就刷新缓冲区 ob_flush(); flush(); &#125;&#125; $end = microtime(true);echo '用时：', $end - $begin; 生成一个文件数据过大，可以生成下载链接进行单个导出。1234567891011121314151617181920212223242526//表单&lt;form action="&lt;?php echo $this-&gt;createUrl('/offlinead/default/index');?&gt;" id="myform" method="get" &gt; &lt;button type="button" class="btn btn-info" id="exportBtn"&gt;导出Excel&lt;/button&gt; &lt;/form&gt; // 导出excel js $("#exportBtn").click(function () &#123; var params = $("#myform").serialize(); var url = "&lt;?php echo $this-&gt;createUrl('/offlinead/default/index'); ?&gt;"; //获取查询数据的条数 $.get(url+"?is_get_num=1&amp;export=1&amp;" + params, function(data) &#123; var downDataList = ""; if(data["rows"]) &#123; //rows是数据总条数，pageSize是一页多少条 var pageNum = Math.ceil(data["rows"] / data["pageSize"]); for(var i = 1; i &lt;= pageNum; ++i) &#123; downDataList += "&lt;a href='"+url+"?export=1&amp;" + params + "&amp;page=" + i + "'&gt;下载汇总结果" + i + "&lt;/a&gt;&amp;nbsp;&amp;nbsp;"; &#125; $("#searchDataList").html(downDataList); &#125; else &#123; commonjs.alert("没有数据"); &#125; &#125;, "json"); return false; &#125;); 二、 生成多个文件到一个目录，打包导出JS代码12345678910111213141516171819202122232425262728293031323334353637383940414243444546 var pageNum = 0; //总页数 // 导出excel $("#exportBtn").click(function () &#123; var params = $("#myform").serialize(); var url = "&lt;?php echo $this-&gt;createUrl('/offlinead/default/index'); ?&gt;"; //获取查询数据的条数 $.get(url+"?is_get_num=1&amp;export=1&amp;" + params, function(data) &#123; if(data["rows"]) &#123; //rows是数据总条数，pageSize是一页多少条 pageNum = Math.ceil(data["rows"] / data["pageSize"]); excel(1); //生成excel文件 console.log("正在生成第一页\n"); &#125; else &#123; commonjs.alert("没有数据"); &#125; &#125;, "json"); return false; &#125;);//生成csv文件 function excel(page) &#123; //向后台发送处理数据 $.ajax(&#123; type: "POST", dataType: "text", url: '&lt;?php echo Yii::app()-&gt;createUrl("/offlinead/default/index"); ?&gt;?' + $("#myform").serialize() + '&amp;export=1&amp;page='+page, //分页生成excel地址 data: "", error: function () &#123; commonjs.alert("下载失败"); &#125;, success: function (data) &#123; if (data == 1) &#123; var nowpage = page+1; if (nowpage &lt;= pageNum+1) &#123; excel(nowpage); // console.log("正在生成第"+nowpage+"页\n"); &#125; &#125; else if(data == 0) &#123; commonjs.alert("下载失败"); &#125;else&#123; location.href = data; //跳转到生成的zip包进行下载 &#125; &#125; &#125;); &#125; PHP代码12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758$list = $this-&gt;getOrder($this-&gt;page,$this-&gt;pageSize);//当前页查询到的数据if ($this-&gt;page &lt;= $pagenum) &#123; //当前页小于总页数，生成csv $date = date("Ymd"); $p =$this-&gt;page;//当前页数 $filename = $this-&gt;_upload_path.$date."-".$p.'.csv';//$this-&gt;_upload_path生成文件路径 $this-&gt;exportCSVCommand($filename,$list);//生成csv echo 1; //生成单页数据成功 &#125;else&#123; //全部生成完以后，对生成目录进行打包 $zip=new ZipArchive();//php打包类,xxx.zip为压缩包文件名 if($zip-&gt;open($this-&gt;_upload_path.'xxx.zip', ZipArchive::OVERWRITE)=== TRUE)&#123; $this-&gt;addFileToZip($this-&gt;_upload_path, $zip); //调用方法，对要打包的根目录进行操作，并将ZipArchive的对象传递给方法 $zip-&gt;close(); //关闭处理的zip文件 echo $this-&gt;_upload_path.'xxx.zip';//返回前端压缩包目录，进行下载 &#125;else&#123; echo 0; //打包失败 &#125; &#125;//根据数组生成excel文件 public function exportArrayCommand($fileName, $array) &#123; $fp = fopen($fileName, 'w'); // 计数器 $cnt = 0; // 每隔$limit行，刷新一下输出buffer $limit = 10000; // 逐行取出数据，不浪费内存 foreach ($array as $row) &#123; $cnt ++; if ($limit == $cnt) &#123; //刷新一下输出buffer，防止由于数据过多造成问题 ob_flush(); flush(); $cnt = 0; &#125; foreach ($row as $i =&gt; $v) &#123; $row[$i] = iconv('utf-8', 'gb2312', $v); &#125; fputcsv($fp, $row); &#125; fclose($fp); &#125;//将指定目录文件，加入到压缩文件对象 public function addFileToZip($path,$zip)&#123; $handler=opendir($path); //打开当前文件夹由$path指定。 while(($filename=readdir($handler))!==false)&#123; if($filename != "." &amp;&amp; $filename != "..")&#123;//文件夹文件名字为'.'和‘..’，不要对他们进行操作 if(is_dir($path.DIRECTORY_SEPARATOR.$filename))&#123;// 如果读取的某个对象是文件夹，则递归 addFileToZip($path."/".$filename, $zip); &#125;else&#123; //将文件加入zip对象 $zip-&gt;addFile($path."/".$filename); &#125; &#125; &#125; @closedir($path); &#125;]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[设置cmd命令提示符窗口的界面语言]]></title>
    <url>%2F2017%2F06%2F29%2F%E8%AE%BE%E7%BD%AEcmd%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E7%AA%97%E5%8F%A3%E7%9A%84%E7%95%8C%E9%9D%A2%E8%AF%AD%E8%A8%80%2F</url>
    <content type="text"><![CDATA[chcp 是 “change code page”的缩写，chcp命令查看当前代码页 “chcp 437” 命令的作用是更改代码页。 437 是美国英语的代码页936 是中文的代码页，936就是cmd默认的代码页]]></content>
  </entry>
  <entry>
    <title><![CDATA[PHPStorm 设置调试工具XDebug]]></title>
    <url>%2F2017%2F06%2F07%2FPHPStorm-%E8%AE%BE%E7%BD%AE%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7XDebug%2F</url>
    <content type="text"><![CDATA[安装XDebug如果使用的PHP开发环境是phpStudy，本身已经安装了XDebug扩展，只需在php.ini中开启即可。12345[XDebug]xdebug.profiler_output_dir="D:\phpStudy\tmp\xdebug"xdebug.trace_output_dir="D:\phpStudy\tmp\xdebug"zend_extension="D:\phpStudy\php\php-5.5.38\ext\php_xdebug.dll"xdebug.remote_enable = on 如果没有安装，可以到 xdebug网站 下载相应版本的XDebug扩展php_xdebug.dll,只需将phpinfo的内容复制到输入框，第一种方式可以打印phpinfo()，复制网页内容，第二种方式在命令行将phpinfo的内容输出到文件中 php -i &gt;phpinfo.txt ，复制phpinfo.txt的内容到输入框。最后点击按钮 Analyse my phpinfo() output 就会显示你要下载的版本。 设置PHPStorm一、 添加服务器信息1、 进入File&gt;Settings&gt;Languages &amp; Frameworks&gt;PHP&gt;Servers，根据自己的域名进行设置，www.xywang.net是我配置的要进行debug的域名。 2、进入File&gt;Settings&gt;Languages &amp; Frameworks&gt;PHP&gt;Debug&gt;DBGp Proxy 填写：123IDE key: phpStorm host: www.xywang.net port: 80 3、最后点菜单栏的Run&gt;Edit Configurations… 在弹出的窗口中添加一个调试配置：点击左上角加号，选择PHP Web Application，选择刚才配置的Server，选择默认浏览器为chrome 二、安装chrome调试插件Xdebug helper安装好后在浏览器右上角会有一个灰色的小甲虫，右键选项中设置IDE key为PhpStorm,调试时要选择Debug选项成为绿色。 开始调试调试时，在phpstrom中设置好断点，并点击右上角开始监听调试按钮，最后刷新网页即可进行调试。]]></content>
      <categories>
        <category>PHP</category>
      </categories>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python3.5安装加密模块pycrypto]]></title>
    <url>%2F2017%2F06%2F01%2Fpython3-5%E5%AE%89%E8%A3%85%E5%8A%A0%E5%AF%86%E6%A8%A1%E5%9D%97pycrypto%2F</url>
    <content type="text"><![CDATA[安装代码如下 1pip install --use-wheel --no-index --find-links=https://github.com/sfbahr/PyCrypto-Wheels/raw/master/pycrypto-2.6.1-cp35-none-win_amd64.whl pycrypto]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo的NexT主题：添加来必力评论]]></title>
    <url>%2F2017%2F05%2F26%2FHexo%E7%9A%84NexT%E4%B8%BB%E9%A2%98%EF%BC%9A%E6%B7%BB%E5%8A%A0%E6%9D%A5%E5%BF%85%E5%8A%9B%E8%AF%84%E8%AE%BA%2F</url>
    <content type="text"><![CDATA[来必力是什么？使用社交网站账户登录，免去注册过程。提高用户的参与和沟通意愿。管理/删除我的评论内容。提供管理页面，管理网站文章及评论内容。 安装来必力1 、登陆来必力网站注册2 、在后台的代码管理页面 查看一般网站的安装代码,复制data-uid的值 3、打开next主题的配置文件 \themes\next_config.yml，找到 livere_uid 设置为该值即可。123# Support for LiveRe comments system.# You can get your uid from https://livere.com/insight/myCode (General web site)livere_uid: 这里填写data-uid的值 基本设置 1 、注意需要在来必力后台管理的设置中添加网站名称和网站的URL，可根据情况选择要显示的SNS第三方登陆按钮。 2、评论提醒：在评论提醒开启登记新评论时，接受提醒，填写接受提醒的邮箱地址以及选择提醒周期。3、评论管理中可针对接收到的评论进行管理。]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo的NexT主题：显示网站访问人数和总访问量]]></title>
    <url>%2F2017%2F05%2F18%2FHexo%E7%9A%84NexT%E4%B8%BB%E9%A2%98%EF%BC%9A%E6%98%BE%E7%A4%BA%E7%BD%91%E7%AB%99%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0%E5%92%8C%E6%80%BB%E8%AE%BF%E9%97%AE%E9%87%8F%2F</url>
    <content type="text"><![CDATA[显示统计标签打开\themes\next\layout_partials\footer.swig文件，复制以下代码至你想要放置的位置。12345678910111213141516&lt;div class="busuanzi-count"&gt; &lt;script async="" src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt; &lt;span class="site-uv"&gt; &lt;i class="fa fa-user"&gt; 本站访客数&lt;/i&gt; &lt;span class="busuanzi-value" id="busuanzi_value_site_uv"&gt;&lt;/span&gt; 人 &lt;/span&gt; &lt;span class="site-pv"&gt; &lt;i class="fa fa-eye"&gt; 本站总访问量&lt;/i&gt; &lt;span class="busuanzi-value" id="busuanzi_value_site_pv"&gt;&lt;/span&gt; 次 &lt;/span&gt;&lt;/div&gt;]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2017%2F04%2F12%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>